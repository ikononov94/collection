dist: trusty
sudo: required
language: node_js

node_js:
  - 'node'

addons:
  chrome: stable

before_install:
  - google-chrome-stable --headless --disable-gpu --remote-debugging-port=5000 http://localhost

jobs:
  include:
    - stage: lint
      script: npm run lint
    - stage: unit testing
      script: npm run test
    - stage: regression testing
      script: bash gemini-selenium
    - stage: deploy
      script:
        - npm run build
      deploy:
        provider: heroku
        app: radiant-beach-82987
        api-key:
          secure: 293d7180-e627-4b81-ba29-65a762db2314  
        skip_cleanup: true